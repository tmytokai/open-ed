<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../common.css">
<script src="../../../common.js"></script>
<title>3. getter と setter</title>
</head>
<body>

<nav class="brcr">
<ol>
<li><a href="../">アクティビティ: オブジェクト指向プログラミングの三大要素</a></li>
<li>学習項目: [2] カプセル化</li>
<li><script>GetTitle()</script></li>
</ol>
</nav>

<h2><script>GetTitle()</script></h2>

<p>
前のページで「フィールドは原則 private にして隠蔽しましょう」と書きましたが、それでもどうしても外部からフィールドにアクセスしたい場合があります。
<br>
その場合は「getter」と「setter」というテクニックがよく使われています。
</p>

<p>
「getter」は private により隠蔽されたフィールドの値を外部から取得するために使うメソッドで、例えばJavaではソース 1 の様に定義します。
</p>

<div class="info">
<input type="checkbox"><b>ソース 1 : getter の定義</b>
<pre class="wrap">
public class HOGE{

  private int abc;

  // フィールド abc の getter
  // メソッド名は何でも良いが　get〜 とするのが一般的(かも)
  public int get_abc(){ return abc; }
}
</pre>
</div>

<p>
HOGE 以外のクラスから abc フィールドの値を取得したい場合はソース 2 のようにします。
</p>

<div class="info">
<input type="checkbox"><b>ソース 2 : getter の使い方</b>
<pre class="wrap">
HOGE hoge = new HOGE();
int a = hoge.get_abc();
</pre>
</div>

<p>
一方「setter」は private により隠蔽されたフィールドの値を外部から変更するために使うメソッドで、例えばJavaではソース 3 の様に書きます。
</p>

<div class="info">
<input type="checkbox"><b>ソース 3 : setter の定義</b>
<pre class="wrap">
public class HOGE{

  private int abc;
  
  // フィールド abc の setter
  // メソッド名は何でも良いが set〜 とするのが一般的(かも)
  // 引数名は何でも良い。人によって名前付けの流儀もまちまち
  public void set_abc( int _abc ){ abc = _abc; }
}
</pre>
</div>

<p>
さて、main メソッドや HOGE を継承していないクラスのメソッドから abc フィールドに値をセットしたい場合は HOGE のインスタンスを作った後にソース 4 のようにします。
</p>

<div class="info">
<input type="checkbox"><b>ソース 4 : setter の使い方 (HOGE を継承していないクラスの場合)</b>
<pre class="wrap">
HOGE hoge = new HOGE();
hoge.set_abc( 123 );
</pre>
</div>

<p>
一方、HOGE を継承しているサブクラスのメソッドから abc フィールドに値をセットしたい場合は<a href="../text01/page02.html">フィールドとメソッドの再利用</a>の所で説明したようにそのまま setter を呼び出せるのでソース 5 のようにします。
</p>

<div class="info">
<input type="checkbox"><b>ソース 5 : setter の使い方 (HOGE のサブクラスの場合)</b>
<pre class="wrap">
set_abc( 123 );
</pre>
</div>

<p>
ところで「getter」と「setter」を使ってしまうとフィールドを public にすることとあまり違いがなくなるという問題があります。
<br>
よって「getter」と「setter」は絶対に使っていけないと主張する人も多いです。
</p>

<p>
また C# や swift などの新し目の言語では「getter」と「setter」の代わりに「プロパティ」という似たような機能が用意されています。
<br>
参考までに C# ではプロパティはソース 6 の様にして使います。
</p>

<div class="info">
<input type="checkbox"><b>ソース 6 : C# でのプロパティの使い方</b>
<pre class="wrap">
定義:

class HOGE{

  public int Abc{ get; set; }   // プロパティ「Abc」の定義

}

使い方:

var hoge = new HOGE();
hoge.Abc = 123;
Console.WriteLine( hoge.Abc );
</pre>
</div>

<p>
これ以上詳しくはこのアクティビィティでは取り扱いませんが、「プロパティ」は最近のオブジェクト指向プログラミングでは必須の機能ですので、興味がある人は自分で調べておきましょう。
</p>

<script>PreNext(3,3)</script>
</body>
</html>
