<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="../../../common.css" type="text/css" />
<title>スーパークラスとしてインスタンス作成</title>
</head>
<body>

<h2>スーパークラスとしてインスタンス作成</h2>

<br>
オブジェクト指向言語ではサブクラスのインスタンスをスーパークラスのインスタンスと見なして作ることが出来ます。
<br>
「サブクラスのインスタンスをスーパークラスのインスタンスと見なして作る」ために、 Java ではソース1の様に書きます。
<br>
<br>
<pre class="prog">
<input type="checkbox"><b>ソース1:</b>

スーパークラス名 インスタンス名 = new サブクラス名();
</pre>

<br>
これだけでは何のことか良く分からないと思うので具体的なコードを使って段階的に説明していきます。
<br>
<br>
まず前のページで示した FRUIT スーパークラスと APPLE サブクラスと ORANGE サブクラス をもう一度示します(ソース2〜4)。
<br>
<pre class="prog">
<input type="checkbox"><b>ソース2:</b>

public class FRUIT {

	public String name;
	
	public void eat()
	{
		System.out.println(name+"美味い");
	}
}
</pre>

<br>
<br>
<pre class="prog">
<input type="checkbox"><b>ソース3:</b>

public class APPLE extends FRUIT{

	public APPLE()
	{
		name = "りんご";
	}
}
</pre>

<br>
<pre class="prog">
<input type="checkbox"><b>ソース4:</b>

public class ORANGE extends FRUIT{

	public ORANGE()
	{
		name = "みかん";
	}
}
</pre>

<br>
<br>
次に main メソッドをソース5に示しますが、前のページの main メソッドと違って<u>apple と orange が FRUIT スーパークラスのインスタンスになっている</u>ことに注目して下さい。
<br>
<br>
すると apple と orange は見かけ上は FRUIT スーパークラスのインスタンスなのですが、実態はそれぞれ APPLE、ORANGE サブクラスのインスタンスになります。
<br>
よって実行結果は前のページと同じとなりますので省略します。
<br>
<br>
<pre class="prog">
<input type="checkbox"><b>ソース5:</b>

public static void main(String[] args) {

	FRUIT apple = new APPLE();
	FRUIT orange = new ORANGE();

	apple.eat();
	orange.eat();
}
</pre>

<br>
この様に各インスタンスを(見かけ上は)スーパークラスのインスタンスにすると、次のソース6のようにスーパークラスの配列と for ループを使って各インスタンスを一元管理出来るようになります(※)。
<br>
このテクニックは非常に良く使われますので覚えておきましょう。
<br>
<br>
※ オブジェクト指向言語ではこういう状況では普通は配列 + for ではなくて vector クラス + iterator クラスを使います。詳細は自分で調べて下さい。
<br>
<br>
<pre class="prog">
<input type="checkbox"><b>ソース6:</b>

public static void main(String[] args) {
	        
        FRUIT fruit[] = new FRUIT[2];
        fruit[0] = new APPLE();
        fruit[1] = new ORANGE();
        
        for(int i=0;i<2;++i) fruit[i].eat();
}
</pre>
<br>



<br>
<br>
<br>
</body>
</html>
