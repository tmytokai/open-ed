<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../common.css">
<title>標準関数による文字列操作</title>
</head>
<body>

<p>
<a href="../">アクティビティ: C言語のポインタ</a>
<br>
学習項目: [7] 活用例(2) 文字列配列
</p>

<h2>3. 標準関数による文字列操作</h2>

<p>
printf や scanf など C 言語に標準で用意されている関数を「標準関数」とか「標準ライブラリ関数」とか「「標準 C ライブラリ関数」と呼びましたが(※)、文字列配列を扱う標準関数をここでは学びます。
</p>

<p>
※ 具体的には国際標準化機構(ISO)と国際電気標準会議(IEC)が何を標準関数にするか決めています。現時点(2016年11月)での最新規格はISO/IEC9899:2011(通称C11)です。
</p>

<br>
<h3>
1.文字列配列を扱う標準関数
</h3>
<p>
文字列配列を扱う標準関数は沢山あるのですが原則として str〜 という名前の関数になっています。そこで「文字列配列を扱う標準関数」と書くと長いので今後は str 系標準関数と略すことにします。ちなみに str は string の略です。
</p>

<p>
さて str 系標準関数の全てを説明すると大変ですので、とりあえず今回は良く使われている以下の3つの str 系標準関数を取り扱いたいと思います。
</p>

<div class="info">
<input type="checkbox"><b>代表的な str 系標準関数:</b>

<p>
※ str 系標準関数を使うためには string.h をインクルードして下さい。
</p>

<p>
strlen 関数 : 文字列の長さを調べる関数
</p>

<p>
strcat 関数 : 2つの文字列を連結する関数
</p>

<p>
strcpy 関数 : 文字列をコピーする関数
</p>

</div>

<br>
<h3>
2. strlen 関数 : 文字列の長さを調べる関数
</h3>
<p>
strlen 関数は length of a string の略で文字列の長さを調べる関数になります。使い方は以下の通りです。
</p>

<div class="info">
<input type="checkbox"><b>strlen 関数の書式と例:</b>

<p>
※ この関数は古い関数でセキュリティ的に危険なので使わない方が良いです。
何故危険なのかは自分で調べてみましょう。
C11以降は「strnlen_s」を代わりに使うことが推奨されています。
</p>

<p>
strlen( 文字列配列の先頭アドレス );
</p>

<p>
戻り値: 文字列配列に含まれる文字列の長さ(int 型)
</p>

<p>
※ ヌル終端文字が含まれていないと正しい値が出て来ません。
<br>
※ 戻り値(文字列の長さ)にはヌル終端文字の分は含まれません。
</p>

<br>
<pre class="wrap">
(使用例)

char a[256] = "hoge";
int n = strlen( a );
printf("%d\n", n );  // 4 と表示される
</pre>

</div>

<br>
<h3>
3. strcat 関数 : 2つの文字列を連結する関数
</h3>
<p>
strcat 関数は concatenate two strings の略で2つの文字列を連結する関数です。使い方は以下の通りです。
</p>

<div class="info">
<input type="checkbox"><b>strcat 関数の書式と例:</b>

<p>
※ この関数は古い関数でセキュリティ的に「極めて」危険なので「絶対に」使わないで下さい。
何故危険なのかは自分で調べてみましょう。
どうしても使いたい時はせめて「strncat」、C11以降なら「strcat_s」又は「strncat_s」を代わりに使いましょう。
</p>

<p>
strcat( 文字列配列 1 の先頭アドレス, 文字列配列 2 の先頭アドレス )
</p>

<p>
結果: 文字列配列 1 の文字列の最後に文字列配列 2 の文字列が連結コピーされる
</p>

<p>
戻り値: 文字列配列 1 の先頭アドレス(番地)
</p>

<p>
※ 両方の文字列配列にヌル終端文字が含まれていないと正しい結果になりません。
</p>

<br>
<pre class="wrap">
(使用例)

char a[256] = "hoge";
char b[256] = "fuga";
strcat( a, b );
printf("%s\n", a );  // hogefuga と表示される
</pre>

</div>

<br>
<h3>
4. strcpy 関数 : 文字列をコピーする関数
</h3>
<p>
strcpy 関数は copy the string の略で文字列をコピーする関数です。使い方は以下の通りです。
</p>

<div class="info">
<input type="checkbox"><b>strcpy 関数の書式と例:</b>

<p>
※ この関数は古い関数でセキュリティ的に「極めて」危険なので「絶対に」使わないで下さい。
何故危険なのかは自分で調べてみましょう。
どうしても使いたい時はせめて「strncpy」、C11以降なら「strcpy_s」又は「strncpy_s」を代わりに使いましょう。
</p>

<p>
strcpy( 文字列配列 1 の先頭アドレス, 文字列配列 2 の先頭アドレス )
</p>

<p>
結果: 文字列配列 1 の文字列の先頭から文字列配列 2 の文字列がコピーされる
</p>

<p>
戻り値: 文字列配列 1 の先頭アドレス(番地)
</p>

<p>
※ 文字列配列 2 にヌル終端文字が含まれていないと正しい結果になりません。
</p>

<br>
<pre class="wrap">
(使用例)

char a[256];
char b[256] = "fuga";
strcpy( a, b );
printf("%s\n", a );  // fuga と表示される
</pre>

</div>


</body>
</html>
