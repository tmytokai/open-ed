<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="../../../common.css">
<title>配列渡し</title>
</head>
<body>

<p>
<a href="../">アクティビティ: C言語のポインタ</a>
<br>
学習項目: [6] 活用例(1) 関数へのポインタ渡し
</p>

<h2>配列渡し</h2>

<p>
次は「ポインタ渡し」の一種である「配列渡し」について紹介します。
</p>

<br>
<h3>
1. 配列渡し
</h3>
<p>
「配列渡し」は「ポインタ渡し」の一種でポインタ変数を引数として使うことは同じですが、呼び出し元の実引数が変数ではなくて配列であるという違いがあります。では定義と例を見てみましょう。
</p>

<div class="info">
<input type="checkbox"><b>「配列渡し」による引数の定義と例:</b>

<p>
引数の型 *引数名
</p>

<pre class="wrap">
(定義の例) 

※ int *pa が引数定義
void HOGE( int *pa )
{
  ※ 関数の中で引数を使いたい時は *(pa+i)記法 や pa[i] 記法の好きな方を使う
   printf( "%d\n", *(pa+1) );
   pa[2] = 1;
}


(関数の呼び出し方の例)

int a[10];
※ 配列の先頭アドレスを渡す(アドレス演算子 &amp; を配列名の前に付けない)
HOGE( a );
</pre>

</div>

<p>
繰り返しますが「配列渡し」は「ポインタ渡し」の一種ですのでメリット・デメリットも「ポインタ渡し」とほぼ同じです。つまり、
</p>

<div class="info">
<input type="checkbox"><b>配列渡しのメリット:</b>

<p>
<b>関数の中で呼び出し元の配列(実引数)の各要素の値を取得したり変更したり出来る</b>
</p>
</div>

<p>
というメリットがあります。
</p>

<br>
<h3>
2. 配列渡しの別の記法
</h3>
<p>
上で説明したポインタ変数を引数とする配列渡しの方法以外にも次のような記法があります。
</p>

<div class="info">
<input type="checkbox"><b>「配列渡し」の引数定義の記法:</b>

<p>
(1) 引数の型 *引数名

</p>
<p>
　※ 上で説明したポインタ変数を使う方法です。
</p>

<p>
(2) 引数の型 引数名[要素数]
</p>

<p>
　※ 呼び出し元の配列の要素数と合わせる必要があります。
</p>

<p>
(3) 引数の型 引数名[]
</p>

<br>
<pre class="wrap">
(記法 1 の例) 

※ int *pa が引数定義
void HOGE( int *pa )
{
   略
}


(記法 2 の例) 

※ int pa[10] が引数定義
void HOGE( int pa[10] )
{
   略
}

(記法 3 の例) 

※ int pa[] が引数定義
void HOGE( int pa[] )
{
   略
}

※ 関数の呼び出し方はどの記法も同じ

</pre>

</div>

<p>
呼び出し元の配列が 1 次元配列ならどの記法を使っても同じ結果になりますので(※)基本的に好みの記法を使って結構です。
</p>

<p>
※ 呼び出し元の配列が 2 次元配列などの多次元配列になると結果が変わってくるので注意が必要です。
</p>


<br>
<h3>
3. 配列渡しの動作
</h3>

<p>
更新中
</p>

</body>
</html>
