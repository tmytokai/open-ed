<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../common.css">
<script src="../../../common.js"></script>
<title>2. ファイル入力</title>
</head>
<body>

<nav class="brcr">
<ol>
<li><a href="../">アクティビティ: Java言語の基礎</a></li>
<li>学習項目: [3] ファイル操作</li>
<li><script>GetTitle()</script></li>
</ol>
</nav>

<h2><script>GetTitle()</script></h2>

<p>
ファイル入力はソース 1 の様におこないます。
</p>

<div class="info">
<input type="checkbox"> <b>ソース1: ファイル入力の例</b>
<pre class="wrap">
import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class Main{
    public static void main(String[] args) {
        try {
            BufferedReader reader = new BufferedReader( new FileReader( "hoge.txt" ) );
            String line;
            while( (line = reader.readLine()) != null ){
                System.out.println( line );
            }
            reader.close();
        }
        catch ( IOException e ) { // 例外処理しないとコンパイルエラーになる
            System.out.println( e );
        }
    }
}
</pre>
</div>

<p>
上の例では BufferedReader 〜と書いてあるやたら長い行でファイルを読み込みモードでオープンしています。
<br>
今回は hoge.txt をオープンして reader という名前で変数(インスタンス)を作成しています。
</p>

<p>
なおファイルをオープンする時は<a href="../text02/page01.html">例外処理</a>の手続きをしないとエラーがおきてコンパイルできませんので注意して下さい。
<br>

</p>

<p>
一度オープンすれば、あとは reader.readLine() でファイルの先頭から順に1行分を文字列として読み込む事が出来ます。
<br>
上の例では文字列型変数 line に読み込んだ文字列を代入しそのまま println で画面表示しています。
</p>
<p>
なお、ファイルの終わり(EOF)にたどり着くと reader.readLine() は null を返します。
<br>
上の例では line に null が代入されたら while のループから抜けるようにしてあります。
</p>

<p>
最後に reader.close() でファイルをクローズするのを忘れないで下さい。
</p>

<p>
このソース 1 をコンパイルして実行すると以下の結果になります。
<br>
なお hoge.txt は<a href="./page01.html">前ページ</a>のソース 1 を実行して作成したものを利用しています。
</p>

<div class="info">
<input type="checkbox"> <b>ソース 1 の実行結果</b>
<pre class="wrap">
足し算
1足す2は3
</pre>
</div>

<br>
<script>PreNext(2,2)</script>
</body>
</html>
