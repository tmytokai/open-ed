<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../common.css">
<script src="../../../common.js"></script>
<title>3. forEach 文</title>
</head>
<body>

<nav class="brcr">
<ol>
<li><a href="../">アクティビティ: Java言語の基礎</a></li>
<li>学習項目: [5] 関数型インターフェースとラムダ式</li>
<li><script>GetTitle()</script></li>
</ol>
</nav>

<h2><script>GetTitle()</script></h2>

<p>
前の学習項目で学んだ<a href="../text04/page01.html">リスト</a>や<a href="../text04/page02.html">マップ</a>では<a href="../text04/page03.html">拡張 for 文</a>が使えますが、ここで学ぶ forEach 文を使うともっと簡潔に繰り返し処理を行うことが出来ます。
</p>

<p>
forEach 文の書式は次のようになります。
</p>

<div class="info">
<input type="checkbox"> <b>forEach 文の書式</b>
<pre class="wrap">
(リストやマップ型の)変数名.forEach( ラムダ式 )
</pre>
</div>

<p>
具体的には次のようにして使います。
<br>
まずリストを使った場合を示します。
<br>
詳しい説明はソース内のコメントを参照して下さい。
</p>

<div class="info">
<input type="checkbox"> <b>ソース1: リスト版 forEach 文</b>
<pre class="wrap">
import java.util.ArrayList;

public class Main{
    public static void main(String[] args) {

        // リスト定義
    	ArrayList&lt;String&gt; list1 = new ArrayList&lt;String&gt;();
    	ArrayList&lt;Integer&gt; list2 = new ArrayList&lt;Integer&gt;();

        // 一番後に要素を追加
    	list1.add( "hoge" );
    	list1.add( "fuga" );
    	list1.add( "piyo" );

    	list2.add( 12 );
    	list2.add( 34 );
    	list2.add( 56 );

        // String 型リストの forEach 文
        // 型推論により str は String 型になる
        list1.forEach( str -&gt; {
            String a = "str = "+str;
            System.out.println( a );
        } );

        // Integer 型リストの forEach 文
        // 型推論により i は Integer 型になる
        list2.forEach( i -&gt; {
            String a = "i = "+i;
            System.out.println( a );
        } );

    }
}

</pre>
</div>

<br>
<div class="info">
<input type="checkbox"> <b>ソース1の実行結果</b>
<pre class="wrap">
str = hoge
str = fuga
str = piyo
i = 12
i = 34
i = 56
</pre>
</div>


<p>
同様にマップを使った場合は次のようになります。
<br>
やはり詳しい説明はソース内のコメントを参照して下さい。
</p>

<div class="info">
<input type="checkbox"> <b>ソース2: マップ版 forEach 文</b>
<pre class="wrap">
import java.util.HashMap;

public class Main{
    public static void main(String[] args) {
        // マップ定義
    	HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();

        // 要素を追加
        map.put( "hoge", 123 );
        map.put( "fuga", 456 );
        map.put( "piyo", 789 );

        // 型推論により key は String 型、value は Integer 型になる
        map.forEach( (key,value) -&gt; {
            String a = "key = " + key + ", value = " + value;
            System.out.println( a );
        } );
    }
}
</pre>
</div>

<br>
<div class="info">
<input type="checkbox"> <b>ソース2の実行結果</b>
<pre class="wrap">
key = hoge, value = 123
key = fuga, value = 456
key = piyo, value = 789
</pre>
</div>

<br>
<script>PreNext(3,3)</script>
</body>
</html>
