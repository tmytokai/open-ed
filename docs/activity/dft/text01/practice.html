<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../common.css">
<script src="../../../common.js"></script>
<script src="../../../mathjax.js"></script>
<title>演習</title>
</head>
<body>

<nav class="brcr">
<ol>
<li><a href="../">アクティビティ: 離散フーリエ変換 (DFT)</a></li>
<li>学習項目: [1] DFT と IDFT</li>
<li><script>GetTitle()</script></li>
</ol>
</nav>

<h2><script>GetTitle()</script></h2>

<p>
演習時間: 235  分
</p>

<br>
<h2><a href="./page01.html">1. 周期性時間領域ディジタル信号</a></h2>

<br>
<p>
<input type="checkbox"><b>演習 1-1 (個人、15分):</b> 表計算ソフトを使って周期性時間領域ディジタル信号
</p>
\[
f[i] = 
-1
+ 2 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{1.0} \right ) } \cdot i + 1 \right )
+ 4 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{3.0} \right ) } \cdot i +0.5 \right )
+ 3 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{7.0} \right ) } \cdot i -2 \right )
\]
<p>
のグラフを描いてみましょう。
</p>
<div class="olradio">
<p>
<span class="olradio"><input type="radio" name="p1"></span> 表計算ソフトを起動します。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 時刻の範囲は $i = 0, 1,  \cdots, 44$ とします。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 一番上の最初の列のセルに「i」と書き、その下のセルから各 $i$ の値をオートフィルを使って入力します。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 「i」と書いた右隣のセルに「f[i]」と書き、その下のセルから各 $i$ における $f[i]$ の値をオートフィルを使って入力します。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 「i」と「f[i]」の列を範囲選択してからグラフを挿入します。グラフの種類は散布図、点あり、線あり、平滑化「無し」とします。
<br>
<span class="olradio"><input type="radio" name="p1"></span> グラフから $f[i]$ の周期 $\textrm{N}$ [点]を求めてタイトルに記述して下さい。
<br>
<span class="olradio"><input type="radio" name="p1"></span> シートを保存します。ファイル名は「DFT-1-1」として下さい(拡張子は表計算ソフトによる)。
<br>
<span class="olradio"><input type="radio" name="p1"></span> チーム内で答え合わせをして下さい。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 各自が指定場所に「グラフ」を貼り付けて下さい。
</p>
</div>

<br>
<h2><a href="./page02.html">2. DFT と IDFTの定義</a></h2>

<h2><a href="./page03.html">3. プログラミング</a></h2>

<br>
<p>
<input type="checkbox"><b>演習 1-2 (個人、30分):</b> 演習 1-1 の時間領域ディジタル信号
</p>
<p>
\[
f[i] = 
-1
+ 2 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{1.0} \right ) } \cdot i + 1 \right )
+ 4 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{3.0} \right ) } \cdot i +0.5 \right )
+ 3 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{7.0} \right ) } \cdot i -2 \right )
\]
</p>
<p>
の信号値をプログラム上で求めてみましょう。
</p>
<div class="olradio">
<p>
<span class="olradio"><input type="radio" name="p2"></span> C言語 の開発環境を起動します。ソース名は「DFT-1-2.cpp」とします。
<br>
<span class="olradio"><input type="radio" name="p2"></span> main 関数で int 型変数 N を定義し(※)、演習 1-1 で求めた周期 $\textrm{N}$ の値を代入して下さい。
</p>
<p>
※ コンパイルエラーが出る場合は const int 型にするか man 関数の上で define して下さい。
</p>
<p>
<span class="olradio"><input type="radio" name="p2"></span> double 型の配列 f[N] を定義して下さい。
<br>
<span class="olradio"><input type="radio" name="p2"></span> f[0] 〜 f[N-1] の値を for ループを使って計算して代入して下さい。
<br>
<span class="olradio"><input type="radio" name="p2"></span> 求めた f[0] 〜 f[N-1] の値を画面に表示して下さい。
<br>
<span class="olradio"><input type="radio" name="p2"></span> 実行して出力した値と、演習 1-1 で求めた値がほぼ一致していることを確認して下さい。
<br>
<span class="olradio"><input type="radio" name="p2"></span> チーム内で答え合わせをして下さい。
<br>
<span class="olradio"><input type="radio" name="p2"></span> 各自が指定場所に「ソースコード」を記入して下さい。
</p>
</div>

<br>
<p>
<input type="checkbox"><b>演習 1-3 (個人、70分):</b> 演習 1-1 の時間領域ディジタル信号
</p>
<p>
\[
f[i] = 
-1
+ 2 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{1.0} \right ) } \cdot i + 1 \right )
+ 4 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{3.0} \right ) } \cdot i +0.5 \right )
+ 3 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{7.0} \right ) } \cdot i -2 \right )
\]
</p>
<p>
の DFT 係数 $\textrm{C}[k]$ の絶対値と偏角をプログラム上で求め、表計算ソフトでグラフ化しましょう。
</p>
<div class="olradio">
<p>
<span class="olradio"><input type="radio" name="p3"></span> C言語 の開発環境を起動します。ソース名は「DFT-1-3.cpp」とします。
<br>
<span class="olradio"><input type="radio" name="p3"></span>  演習 1-2 で作成したソースコード(DFT-1-2.cpp)をコピーし、続きから作成します。
<br>
<span class="olradio"><input type="radio" name="p3"></span>  double 型の配列 A[N] と B[N] を定義して下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span>  DFT 係数の実数成分 $\textrm{A}[0]$ 〜 $\textrm{A}[\textrm{N}-1]$ を外側 k、内側 i の 2 重 for ループを使って計算し、 配列 A[] に代入して下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span>  DFT 係数の虚数成分 $\textrm{B}[0]$ 〜 $\textrm{B}[\textrm{N}-1]$ を外側 k、内側 i の 2 重 for ループを使って計算し、 配列 B[] に代入して下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span> A[0] 〜  A[N-1] と B[0] 〜 B[N-1] の値を printf して下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span>  double 型の配列 absC[N] と argC[N] を定義して下さい(※)。
</p>
<p>
 ※ abs は absolute value(絶対値)、arg は argument(偏角)の略です。
</p>
<p>
<span class="olradio"><input type="radio" name="p3"></span>  DFT 係数の絶対値 $|\textrm{C}[0]|$ 〜 $|\textrm{C}[\textrm{N}-1]|$ を k の for ループを使って計算して配列 absC[] に代入して下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span>  DFT 係数の偏角 $\angle\textrm{C}[0]$ 〜 $\angle\textrm{C}[\textrm{N}-1]$ を k の for ループを使って計算して配列 argC[]  に代入して下さい。
<br>
なお絶対値の値が小さいと偏角の値が正しく出ないので、ある k において absC[k] &lt;  0.01 (※)の時は argC[k] = 0 として下さい
</p>
<p>
※ 0.01 という値は適当に決めたもので特に深い意味はありません。
</p>
<p>
<span class="olradio"><input type="radio" name="p3"></span> absC[0] 〜  absC[N-1] と argC[0] 〜 argC[N-1] の値を printf して下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span> 実行して各値を画面に表示します。
<br>
<span class="olradio"><input type="radio" name="p3"></span> 表計算ソフトを起動し、各列のタイトルを追加します。1列目の先頭に「k」、2列目の先頭に「絶対値」、3列目の先頭に「偏角」と入力して下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span> k列を挿入します。「k」列のタイトルの下に 0 から $\textrm{N}-1$までオートフィルで数字を入力して下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span> 「絶対値」列のタイトルの下に absC[0] 〜  absC[N-1] の値をコピペして下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span> 「偏角」列のタイトルの下 argC[0] 〜 argC[N-1] の値をコピペして下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span> 「k」列と「絶対値」列を選択して絶対値のグラフを挿入します。グラフの種類は散布図、点あり、線「無し」、平滑化「無し」とします。
<br>
<span class="olradio"><input type="radio" name="p3"></span> 「k」列と「偏角」列を選択して偏角のグラフを挿入します。グラフの種類は散布図、点あり、線「無し」、平滑化「無し」とします。
<br>
<span class="olradio"><input type="radio" name="p3"></span> シートを保存します。ファイル名は「DFT-1-3」として下さい(拡張子は表計算ソフトによる)。
<br>
<span class="olradio"><input type="radio" name="p3"></span> チーム内で答え合わせをして下さい。
<br>
<span class="olradio"><input type="radio" name="p3"></span> 各自が指定場所に「ソースコード」と「絶対値と偏角のグラフ」を貼り付けて下さい。
</p>
</div>


<br>
<p>
<input type="checkbox"><b>演習 1-4 (個人、60分):</b> 演習 1-3 で求めた DFT 係数 $\textrm{C}[k]$ の値から元の周期性時間領域ディジタル信号 $f[i]$ を IDFT を使って復元してみましょう。
</p>
<div class="olradio">
<p>
<span class="olradio"><input type="radio" name="p4"></span> C言語 の開発環境を起動します。ソース名は「DFT-1-4.cpp」とします。
<br>
<span class="olradio"><input type="radio" name="p4"></span> 演習 1-3 のソースコード(DFT-1-3.cpp)をコピーし、続きから作成します。
<br>
<span class="olradio"><input type="radio" name="p4"></span> double 型配列 f2[N] を定義して下さい。
<br>
<span class="olradio"><input type="radio" name="p4"></span> 実数成分と虚数成分から元の信号値を外側 i、内側 k の 2 重 for ループを使って計算し、配列 f2[] に代入して下さい。
<br>
<span class="olradio"><input type="radio" name="p4"></span> 求めた f2[0] 〜 f2[N-1] の値を printf して下さい。 
<br>
<span class="olradio"><input type="radio" name="p4"></span> 実行して各値を画面に表示します。
<br>
<span class="olradio"><input type="radio" name="p4"></span> 表計算ソフトを起動します。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 時刻の範囲は $i = 0, 1,  \cdots, 44$ とします。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 一番上の最初の列のセルに「i」と書き、その下のセルから各 $i$ の値をオートフィルを使って入力します。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 「i」と書いた右隣のセルに「f[i]」と書き、その下のセルから IDFT で求めた f2[0] 〜  f2[N-1] の値をコピーします。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 周期的な信号なので、$i = \textrm{N}$ から $i = 44$ までは f2[0] 〜 f2[N-1] の値を範囲選択コピーしてから繰り返し貼り付けて下さい。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 「i」と「f[i]」の列を範囲選択してからグラフを挿入します。グラフの種類は散布図、点あり、線あり、平滑化「無し」とします。
<br>
<span class="olradio"><input type="radio" name="p4"></span> シートを保存します。ファイル名は「DFT-1-4」として下さい(拡張子は表計算ソフトによる)。
<br>
<span class="olradio"><input type="radio" name="p4"></span> チーム内で答え合わせをし演習 1-1 のグラフとほぼ一致していることを確認して下さい。
<br>
<span class="olradio"><input type="radio" name="p4"></span> 各自が指定場所に「ソースコード」と「グラフ」を貼り付けて下さい。
</p>
</div>

<br>
<h2><a href="./page04.html">4. DFT と IDFTの意味</a></h2>

<br>
<p>
<input type="checkbox"><b>演習 1-5 (個人、60分):</b> 演習 1-1 の時間領域ディジタル信号
</p>
<p>
\[
f[i] = 
-1
+ 2 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{1.0} \right ) } \cdot i + 1 \right )
+ 4 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{3.0} \right ) } \cdot i +0.5 \right )
+ 3 \cdot \cos \left ( \frac{2 \pi}{ \left ( \frac{15.0}{7.0} \right ) } \cdot i -2 \right )
\]
</p>
<p>
の直流成分、基本波、高調波をプログラム上で求めて表示しましょう。
</p>
<div class="olradio">
<p>
<span class="olradio"><input type="radio" name="p5"></span> C言語 の開発環境を起動します。ソース名は「DFT-1-5.cpp」とします。
<br>
<span class="olradio"><input type="radio" name="p5"></span>  演習 1-4 で作成したソースコード(DFT-1-4.cpp)をコピーし、続きから作成します。
<br>
<span class="olradio"><input type="radio" name="p5"></span> 直流成分の値を printf して下さい。
<br>
<span class="olradio"><input type="radio" name="p5"></span> 基本波の振幅、周期、初期位相を printf して下さい。
<br>
<span class="olradio"><input type="radio" name="p5"></span> 残りの高調波の振幅、周期(※)、初期位相をprintf して下さい。
</p>
<p>
※ 周期 は N をdouble型にキャストしてから k で割らないと正しい値が出ないので注意しましょう。
</p>
<p>
<span class="olradio"><input type="radio" name="p5"></span> 実行して各値を画面に表示します。 
<br>
<span class="olradio"><input type="radio" name="p5"></span> チーム内で答え合わせをし、理論値とほぼ一致していることを確認して下さい。
<br>
<span class="olradio"><input type="radio" name="p5"></span> 各自が指定場所に「ソースコード」と「各値」を貼り付けて下さい。
</p>
</div>


<br>
<h2><a href="./page05.html">5. 高速フーリエ変換 (FFT)</a></h2>

<p>
演習なし
</p>

<script>PreNext(6,5)</script>
</body>
</html>
