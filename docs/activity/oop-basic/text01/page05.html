<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../common.css">
<script src="../../../common.js"></script>
<title>5. メソッド</title>
</head>
<body>

<nav class="brcr">
<ol>
<li><a href="../">アクティビティ: オブジェクト指向プログラミングの基礎</a></li>
<li>学習項目: [1] オブジェクト指向プログラミングの基礎</li>
<li><script>GetTitle()</script></li>
</ol>
</nav>

<h2><script>GetTitle()</script></h2>

<p>
<b>「メソッド」</b>というのはクラス内で定義されているフィールドを操作するための関数で、言語によっては「メンバ関数」と呼ぶ事があります。
<br>
<a href="./page02.html">以前のページ</a>で説明したようにメソッドはクラス定義の中で次のように定義します。
</p>

<div class="info">
<input type="checkbox"> <b>メソッド定義:</b>
<pre class="wrap">
アクセス修飾子　戻り値の型　メソッド名1(引数){
      内容;
}
</pre>
</div>

<p>
このメソッド自体はただの関数なので、普段みなさんが書いているように手続き型のプログラムを書けば良いです。
</p>

<p>
では実際に Score クラスを使ってメソッドの例を示します。
<br>
次のソース 1 では Score クラスに数学と英語の平均を求める average メソッドを追加してみました。
</p>

<div class="info">
<input type="checkbox"> <b>ソース 1:</b>
<pre class="wrap">
public class Score {
    public int math;
    public int english;
    
    public double average(){
    	return ( math + english )/2.0;  // ※
    }
}

※ 正式には「this.math + this.english」と書きますが「this.」は省略可能です。
</pre>
</div>

<p>
さてソース 1 の様にして定義したメソッドはインスタンスを作って main などから
</p>

<p>
<b>インスタンス名.メソッド名(引数)</b>
</p>

<p>
で呼び出す事ができます(※)。
</p>

<p>
※ あるクラスのメソッドから同じクラスで定義されている別のメソッドを呼び出す時は「this.メソッド名(引数)」と書きます。ただしフィールドの時と同様に「this.」は省略可能です。
</p>

<p>
では早速 main から追加した average メソッドを呼び出してみましょう。
</p>

<div class="info">
<input type="checkbox"> <b>ソース 2:</b>
<pre class="wrap">
public static void main(String[] args) {
	Score sc_taro = new Score();
	sc_taro.math = 5;
	sc_taro.english = 3;

	Score sc_hanako = new Score();
	sc_hanako.math = 80;
	sc_hanako.english = 70;

	System.out.println( "太郎: math = " + sc_taro.math+ " english = " + sc_taro.english + " 平均 = " +sc_taro.average());
	System.out.println( "花子: math = " + sc_hanako.math+ " english = " + sc_hanako.english + " 平均 = " +sc_hanako.average());
}
</pre>
</div>

<p>
ソース 2 を実行すると次の結果が表示されます。
</pr>

<div class="info">
<input type="checkbox"> <b>ソース 2の実行結果:</b>
<pre class="wrap">
太郎: math = 5 english = 3 平均 = 4.0
花子: math = 80 english = 70 平均 = 75.0
</pre>
</div>

<p>
ここで太郎と花子の平均が違うことに注目して下さい。
<br>
一般的に<b>同じメソッドを呼び出してもインスタンス毎にフィールドの値が違うのでメソッドの実行結果が変わります。</b>
<br>
この性質のことを<a href="../../oop-element/text03/page01.html">ポリモーフィズム</a>と呼びます。
</p>

<p>
さて上の average メソッドには引数がありませんでしたが、当然メソッドには引数を持たせる事も出来ます。
<br>
例えば Score クラスに数学の点数を変更する set_math メソッドも追加してみます。
</p>

<div class="info">
<input type="checkbox"> <b>ソース 3:</b>
<pre class="wrap">
public class Score {
    public int math;
    public int english;
    
    public double average(){
    	return (math + english)/2.0;
    }
    
    public void set_math( int s ){
    	math = s;
    }
}
</pre>
</div>

<p>
set_math メソッドの引数は int 型の s で、メソッド内部で math フィールドの値を s の値に置き換えています。
</p>

<p>
あとはインスタンスを作ってこの set_math メソッドを呼び出せば良いのですが、<b>あるインスタンスの math フィールドの値を変えても他のインスタンスの math の値は変わらない</b>事に注意して下さい。
<br>
例えば
</p>

<div class="info">
<input type="checkbox"> <b>ソース 4:</b>
<pre class="wrap">
public static void main(String[] args) {
	Score sc_taro = new Score();
	sc_taro.math = 5;
	sc_taro.english = 3;

	Score sc_hanako = new Score();
	sc_hanako.math = 80;
	sc_hanako.english = 70;

	
	System.out.println( "太郎: math = " + sc_taro.math+ " english = " + sc_taro.english + " 平均 = " +sc_taro.average());
	System.out.println( "花子: math = " + sc_hanako.math+ " english = " + sc_hanako.english + " 平均 = " +sc_hanako.average());
	
	sc_taro.set_math(20); // (1)

	System.out.println( "太郎: math = " + sc_taro.math+ " english = " + sc_taro.english + " 平均 = " +sc_taro.average());	
	System.out.println( "花子: math = " + sc_hanako.math+ " english = " + sc_hanako.english + " 平均 = " +sc_hanako.average());
}
</pre>
</div>

<p>
は (1) の所で太郎の数学の点数を20点に変更していますが、花子の数学の点数は変わりません。
<br>
実行結果は以下のとおりになります。
</p>

<div class="info">
<input type="checkbox"> <b>ソース 4 の実行結果:</b>
<pre class="wrap">
太郎: math = 5 english = 3 平均 = 4.0
花子: math = 80 english = 70 平均 = 75.0
太郎: math = 20 english = 3 平均 = 11.5
花子: math = 80 english = 70 平均 = 75.0
</pre>
</div>

<script>PreNext(5,7)</script>
</body>
</html>
