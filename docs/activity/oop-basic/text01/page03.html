<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="../../../common.css" type="text/css" />
<title>インスタンスの生成</title>
</head>
<body>

<h2>インスタンスの生成</h2>

<br>
「<b>インスタンス</b>」とはクラス定義に含まれるフィールドの内容を記憶する領域のことで「<b>オブジェクト</b>」と同意義になります。
<br>
<br>
と、ここでは言い切ってしまいましたが、そう言うと間違ってると怒り出す人がいます。
<br>
何故かというと、クラス自体の事をオブジェクトと呼ぶ人もいるし、その両方を合わせてオブジェクトと呼ぶ人がいたりして、世界的な混乱の元となっているからです。
<br>
<br>
その論争に関わっていると話が進みませんので、とりあえず今回のアクティビティでは私の流儀に合わせて
<br>
<br>
<b>インスタンス</b> ＝ <b>オブジェクト</b>
<br>
<br>
と言い切ることにし、このページ以降は(オブジェクト指向プログラミングのアクティビティなのに)「オブジェクト」という用語は使わず「クラス」「インスタンス」という用語だけを使うことにします。
<br>
(蒸し返して済みませんが<b>オブジェクト</b> ＝ <b>クラス</b>の意味で使ってる人もいますので技術書等を読む時は文脈に気を付ける必要があります。)
<br>
<br>

では早速「new 演算子」を使って前のページで定義した Score クラスから「インスタンス」を作ってみましょう。
<br>
<pre class="prog">
<input type="checkbox"><b>ソース1:</b>

public static void main(String[] args) {
	Score sc = new Score();  // (1)
	sc.math = 80; // (2)
	sc.english = 70; // (3)

	System.out.println( "math = " + sc.math+ " english = " + sc.english );
}
</pre>

(1)の所でnew 演算子によって sc という「Score クラスのインスタンス」がメモリ上に作られています。
<br>
<br>
これをC言語と比較すると
<br>
<br>
「クラス」→「構造体」
<br>
<br>
「new 演算子」 →「malloc関数」
<br>
<br>
「インスタンス」→「mallocで確保した構造体変数」
<br>
<br>
に相当します。
<br>
なおC言語の演習ではmallocしたらfreeしろと毎回口を酸っぱくして言ってますが、Java の場合は new でインスタンスを作ってもC言語の freeに 相当する「delete」を実行する必要はありません。
<br>
インスタンスを使い終わったらメモリ領域がシステムにより自動的に開放されます(もちろん言語によります。例えばC++の場合は明示的なdeleteが必要です)。
<br>
<br>
さて、一度インスタンスを作ってしまえば構造体変数の様にそのインスタンスのフィールドに対し
<br>
<br>
<b>インスタンス名.フィールド名</b>
<br>
<br>
でアクセス出来ます(ソース内の(2)、(3)の部分)。

<br>
<br>
<br>
</body>
</html>
