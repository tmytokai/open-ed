<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../seminar.css">
<style>
body.seminar{
background: #828282;
}
</style>
<title>4. 前の車にぶつからないようにする</title>
</head>
<body class="seminar">

<div class="container">

<div class="btback"><a href="../#text05">メニューへ戻る</a></div>
<div class="btback"><a href="./page03.html">前のページ</a></div>
<div class="btback"><a href="./page05.html">次のページ</a></div>


<div class="contents">

<h1>4 前の車にぶつからないようにする</h1>

<div class="heading">
  <div class="number">1</div>
  <span>物体センサーの情報を使う</span>
</div>

<p>
次は前を走る車にぶつからないようにするプログラムを作ってみましょう。
</p>

<p>
本物の車の場合はカメラやライダーなどのセンサーによって車のまわりにある物の距離や種類や速度などを手に入れます。
このシミュレータでは「左センサー」「前方-左センサー」「前方-右センサー」「右センサー」の4つの変数ブロックでその方向にいる他の車までの距離(メートル)を手に入れられます。
</p>
<img src="./img/page04-fig1.png" alt="">

<p>
なお物の種類や速度などの情報は省略しています。
</p>

<p><br></p>
<div class="heading">
  <div class="number">2</div>
  <span>「もし〜なら」ブロックの条件を考える</span>
</div>

<p>
ではまた「もし〜なら」ブロックの条件をミーシー思考とミニ・マックス思考を使ってかんがえてみましょう。
</p>

<p>
まず日本では車は左車線を走るように法律で決められていますので、使う情報は「前方-左センサー」だけです。
</p>

<p>
<b>目的：前の車にぶつからない</b>
<br>
<b>必要な情報：「前方-左センサー」</b>
<br>
<b>必要で無い情報：その他の情報</b>
</p>

<p>
よって信号の時と違ってとてもシンプルな表になります。
なお「前方-左センサー」が15メートルより大きい時は"遠い"、15メートル以下で10メートルより大きい時は"近い"、10メートル以下の時は"目の前"ということにしました。
</p>

<div class="table">
<table>
<thead>
<tr> <th>「前方-左センサー」</th> <th>「仮のスピード」</th> </tr>
</thead>
<tbody>
<tr> <td class="center"> 15 より大<br>(遠い) </td> <td class="center">50</td> </tr>
<tr> <td class="center"> 15以下、10より大<br>(近い) </td> <td class="center">20</td> </tr>
<tr> <td class="center"> 10以下<br>(目の前) </td> <td class="center">0</td> </tr>
</tbody>
</table>
</div>

<p>
信号の時と同じ様に、この表を「もし〜ならば、でなければ」ブロックを使って置き換えると次のようになります。
</p>

<div class="table">
<table>
<thead>
<tr> <th colspan="2">「前方-左センサー」</th> <th>「仮のスピード」</th> </tr>
</thead>
<tbody>
<tr> <td class="center" colspan="2"> 15 より大<br>(遠い) </td> <td class="center">50</td> </tr>
<tr> <td class="UL">　</td> <td class="UDR"  colspan="2">でなければ</td> </tr>
<tr> <td class="U" rowspan="2">　</td><td class="center"> 10より大<br>(近い) </td> <td class="center">20</td> </tr>
<tr> <td class="center"> でなければ<br>(目の前) </td> <td class="center">0</td> </tr>
</tbody>
</table>
</div>

<p><br></p>
<div class="heading">
  <div class="number">3</div>
  <span>表をもとにプログラミングする</span>
</div>

<p>
これで「もし〜なら」ブロックの条件が分かりましたので早速プログラミングしてみましょう。
</p>

<p>
まず「前の車にぶつからないようにする」というオリジナルブロックを作ります。
このブロックは繰り返し使いますので「画面を再描画せずに実行する」をチェックしてください。
</p>
<img src="./img/page04-fig2.png" alt="">

<p>
「前の車にぶつからないようにする」ブロックの中身は次のようになります。
やはり表の内容と「もし〜なら」ブロックの条件がまったく同じになっていますね。
</p>
<img src="./img/page04-fig3.png" alt="">

<p>
最後のミニ・マックスの部分も忘れずに作ってください。さっき作ったものを複製してコピーすると楽です。
</p>

<p>
あとは「速度を決める」ブロックを次のように変更すればOKです。
</p>
<img src="./img/page04-fig4.png" alt="">

<p>
ただこのままでは実行しても車が出ませんので、「スタート」ブロックで車をONにするのを忘れないで下さい。
</p>
<img src="./img/page04-fig5.png" alt="">


<p><br></p>
<div class="heading">
  <div class="number">4</div>
  <span>テストする</span>
</div>

<p>
では「緑の旗」ボタンを押してテストしてみましょう。
正しく動いたら「ストップ」ボタンを押してタイトル画面に戻って下さい。
</p>

<p>
※ 走行画面は動作が重いのでプログラミングはタイトル画面でした方が良いです。
</p>


<p><br></p>
<div class="challenge"><p>チャレンジ</p></div>
<p>
「視点〜」ブロックを使うと視点を切り替えることが出来ます(4種類)。
下の画像の様にスプライト機能を使って画面の下にボタンを4つ追加し、各ボタンを押したら視点が切り替わるようなプログラムをつくってみましょう。
</p>
<img src="./img/page04-fig6.png" alt="">

</div>

<div class="btback"><a href="../#text05">メニューへ戻る</a></div>
<div class="btback"><a href="./page03.html">前のページ</a></div>
<div class="btback"><a href="./page05.html">次のページ</a></div>


</div>


</body>
</html>
