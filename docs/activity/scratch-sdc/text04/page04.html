<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../seminar.css">
<style>
body.seminar{
background: #828282;
}
</style>
<title>4. 前の車にぶつからないようにする</title>
</head>
<body class="seminar">

<div class="container">

<div class="btback"><a href="../#text04">メニューへ戻る</a></div>
<div class="btback"><a href="./page03.html">前のページ</a></div>
<div class="btback"><a href="./page05.html">次のページ</a></div>


<div class="contents">

<h1>4 前の車にぶつからないようにする</h1>

<div class="number"><p class="number">1</p></div><h2>物体センサーの情報を使う</h2>
<p>
次は前を走る車にぶつからないようにするプログラムを作ってみましょう。
</p>

<p>
本物の車の場合はカメラやライダーなどのセンサーによって車のまわりにある物の距離や種類や速度などを取得しますが、このシミュレータでは「左センサー」「前方-左センサー」「前方-右センサー」「右センサー」変数ブロックで車のまわりにある物の状態を取得できます。
</p>
<img src="./img/page04-fig1.png" alt="">

<p>
ただしこのシミュレータでは車以外のものは(今のところ)ありませんし、速度の情報も省略しているので、各センサーの情報はその方向にいる車までの距離(メートル)をあらわします。
</p>

<p><br></p>
<div class="number"><p class="number">2</p></div><h2>「もし〜なら」ブロックの条件を考える</h2>
<p>
ではまた「もし〜なら」ブロックの条件をミーシー思考とミニ・マックス思考を使ってかんがえてみましょう。
</p>

<p>
日本では車は左車線を走るように法律で決められていますので、使う情報は「前方-左センサー」だけになります。
よって信号の時と違ってとてもシンプルな表になります。
</p>

<div class="table">
<table>
<thead>
<tr> <th>「前方-左センサー」</th> <th>「仮のスピード」</th> </tr>
</thead>
<tbody>
<tr> <td class="center"> 15 より大<br>(遠い) </td> <td class="center">50</td> </tr>
<tr> <td class="center"> 15以下、10より大<br>(近い) </td> <td class="center">20</td> </tr>
<tr> <td class="center"> 10以下<br>(直前) </td> <td class="center">0</td> </tr>
</tbody>
</table>
</div>

<p>
信号の時と同じ様に、この表を「もし〜ならば、でなければ」ブロックを使って置き換えると次のようになります。
</p>

<div class="table">
<table>
<thead>
<tr> <th>「前方-左センサー」</th> <th>「仮のスピード」</th> </tr>
</thead>
<tbody>
<tr> <td class="center"> 15 より大<br>(遠い) </td> <td class="center">50</td> </tr>
<tr> <td colspan="2">でなければ</td> </tr>
<tr> <td class="center"> 10より大<br>(近い) </td> <td class="center">20</td> </tr>
<tr> <td colspan="2">でなければ</td> </tr>
<tr> <td class="center"> 情報をつかわない<br>(直前) </td> <td class="center">0</td> </tr>
</tbody>
</table>
</div>

<p><br></p>
<div class="number"><p class="number">3</p></div><h2>表をもとにプログラミングする</h2>
<p>
これで「もし〜なら」ブロックの条件が分かりましたので早速プログラミングしてみましょう。
</p>

<p>
まず「前の車にぶつからないようにする」というオリジナルブロックを作ります。
このブロックは繰り返し使いますので「画面を再描画せずに実行する」をチェックしてください。
</p>
<img src="./img/page04-fig2.png" alt="">

<p>
「前の車にぶつからないようにする」ブロックの中身は次のようになります。
やはり表の内容と「もし〜なら」ブロックの条件がまったく同じになっていますね。
</p>
<img src="./img/page04-fig3.png" alt="">

<p>
あとは「速度を決める」ブロックを次のように変更すればOKです。
</p>
<img src="./img/page04-fig4.png" alt="">

<p>
ただこのままでは実行しても車が出ませんので、「スタート」ブロックで車をONにするのを忘れないで下さい。
</p>
<img src="./img/page04-fig5.png" alt="">


<p><br></p>
<div class="number"><p class="number">4</p></div><h2>テストする</h2>
<p>
では「緑の旗」ボタンを押してテストしてみましょう。
</p>

<p>
正しく動いたら「ストップ」ボタンを押してタイトル画面に戻って下さい(シミュレータ画面は動作が重いのでプログラミングはタイトル画面でした方が良いです)。
</p>


<p><br></p>
<div class="challenge"><p>チャレンジ</p></div>
<p>
「視点〜」ブロックを使うと視点を切り替えることが出来ます(4種類)。
下の画像の様にスプライト機能を使って画面の下にボタンを4つ追加し、各ボタンを押したら視点が切り替わるようなプログラムをつくってみましょう。
</p>
<img src="./img/page04-fig6.png" alt="">

</div>

<div class="btback"><a href="../#text04">メニューへ戻る</a></div>
<div class="btback"><a href="./page03.html">前のページ</a></div>
<div class="btback"><a href="./page05.html">次のページ</a></div>


</div>


</body>
</html>
