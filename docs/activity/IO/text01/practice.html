<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../common.css">
<script src="../../../common.js"></script>
<title>演習</title>
</head>
<body>

<nav class="brcr">
<ol>
<li><a href="../">アクティビティ: 入出力インターフェース</a></li>
<li>学習項目: [1] GPIO</li>
<li><script>GetTitle()</script></li>
</ol>
</nav>

<h2><script>GetTitle()</script></h2>

<br>
<p>
今回の演習環境は以下の通りです。
</p>
<div class="info">
<p>
<b>演習環境:</b>
</p>
<ul>
<li>PIC : PIC16F18346-I/P (20ピン)</li>
<li>PICの設定: 3.3V、4 MHz</li>
<li>IDE: MPLAB X IDE</li>
<li>コンパイラ: XC8</li>
<li>プログラマ: MPLAB PICkit4 または PICkit5</li>
</ul>
</div>

<br>
<h2><a href="./page01.html">1. GPIOとは</a></h2>

<br>
<p>
<input type="checkbox"><b>演習 1-1 (個人PC):</b> PIC にプログラムの書き込みをしてみましょう。
</p>
<div class="olradio">
<p>
<span class="olradio"><input type="radio" name="p1"></span> <a href="https://github.com/tmytokai/template_16f18346/archive/refs/heads/main.zip">テンプレートプロジェクト</a>をダウンロードして展開してください。
<br>
<span class="olradio"><input type="radio" name="p1"></span> IDE を起動してテンプレートプロジェクトを開いて下さい。
<br>
<span class="olradio"><input type="radio" name="p1"></span> コンパイルボタンを押してエラーが無いことを確認して下さい。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 今回は USB から電源を供給するので、PICKit の Power 設定は必要ありません。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 回路を作成します。
</p>
<p>
以下の設定に従って回路を作成して下さい。
<br>
(*) が接続箇所です。 
<br>
PIC のピン配置についてはデータシートの 5p 、PICKit のピン配置については PICKit のマニュアルを参照して下さい。
</p>
<div class="info">
<pre class="wrap">
<b>ピン配置設定・回路接続方法:</b>

01: VDD(3.3V)
02: RA5
03: RA4
04: (*)MCLR/VPP -- PICKit の 1: NMCLR ※ プルアップ抵抗不要
05: RC5
06: RC4
07: RC3
08: RC6
09: RC7
10: RB7

11: RB6
12: RB5
13: RB4
14: RC2
15: RC1
16: RC0
17: RA2
18: (*)ICSPCLK(PGC) -- PICKit の 5: PGC
19: (*)ICSPDAT(PGD  -- PICKit の 4: PGD
20: VSS(GND)
</pre>
</div>
<p>
<span class="olradio"><input type="radio" name="p1"></span> 書き込みボタンを押して正常に書き込みできる事を確認して下さい。
<br>
<span class="olradio"><input type="radio" name="p1"></span> 指定場所に「正常書き込み完了時のメッセージ」をコピーして記入して下さい。 
</p>
</div>

<br>
<h2><a href="./page02.html">2. 出力モード</a></h2>

<br>
<p>
<input type="checkbox"><b>演習 1-2 (個人PC):</b> GPIO を使って LED を光らせてみましょう。プログラムの仕様は以下の通りです。
</p>
<div class="info">
<p>
<b>仕様:</b>
</p>
<ol>
<li>RC0 をデジタル出力モードにする</li>
<li>RC0 に LED を接続する</li>
<li>LEDが 500 ミリ秒光る → 500 ミリ秒消える → 500 ミリ秒光る ・・・を繰り返す</li>
</ol>
</div>
<div class="olradio">
<p>
<span class="olradio"><input type="radio" name="p2"></span> 演習1-1から続けます。
<br>
<span class="olradio"><input type="radio" name="p2"></span> 回路を作成します。
</p>
<p>
以下の設定に従って回路を作成して下さい。
<br>
(*) が前の演習からの変更箇所です。
</p>
<div class="info">
<pre class="wrap">
<b>ピン配置設定・回路接続方法:</b>

01: VDD(3.3V)
02: RA5
03: RA4
04: MCLR/VPP -- PICKit の 1: NMCLR ※ プルアップ抵抗不要
05: RC5
06: RC4
07: RC3
08: RC6
09: RC7
10: RB7

11: RB6
12: RB5
13: RB4
14: RC2
15: RC1
16: (*) RC0 (GPIO出力) -- LED
17: RA2
18: ICSPCLK(PGC) -- PICKit の 5: PGC
19: ICSPDAT(PGD  -- PICKit の 4: PGD
20: VSS(GND)
</pre>
</div>
<p>
<span class="olradio"><input type="radio" name="p2"></span> 書き込みボタンを押して正常に動作する事を確認して下さい。 
<br>
<span class="olradio"><input type="radio" name="p2"></span> 提出物はありません。
</p>
</div>

<br>
<h2><a href="./page03.html">3. 入力モード</a></h2>

<br>
<p>
<input type="checkbox"><b>演習 1-3 (個人PC):</b> GPIO を使ってデジタル入力をしてみましょう。プログラムの仕様は以下の通りです。
</p>
<div class="info">
<p>
<b>仕様:</b>
</p>
<ol>
<li> RA2 をデジタル入力モードにセットする</li>
<li> RA2 にタクトスイッチを接続する</li>
<li> タクトスイッチを押してない時は LED が消えている</li>
<li> タクトスイッチを押すと LED が点く</li>
</ol>
</div>
<div class="olradio">
<p>
<span class="olradio"><input type="radio" name="p3"></span> テンプレートプロジェクト(template)を「IO_1_3」にコピーします(プロジェクト名を右クリックして Copy を選択)。
<br>
<span class="olradio"><input type="radio" name="p3"></span> テンプレートプロジェクト(template) を閉じます(プロジェクト名を右クリックして Close を選択)。
<br>
<span class="olradio"><input type="radio" name="p3"></span> (もし開きっぱなしになっていたら) 前のプロジェクトで開いていたソースを全て閉じます。 
<br>
<span class="olradio"><input type="radio" name="p3"></span> main.c を開いて例2を有効にします。
<br>
<span class="olradio"><input type="radio" name="p3"></span> 回路を作成します。
</p>
<p>
以下の設定に従って回路を作成して下さい。
<br>
(*) が前の演習からの変更箇所です。
</p>
<div class="info">
<pre class="wrap">
<b>ピン配置設定・回路接続方法:</b>

01: VDD(3.3V)
02: RA5
03: RA4
04: MCLR/VPP -- PICKit の 1: NMCLR ※ プルアップ抵抗不要
05: RC5
06: RC4
07: RC3
08: RC6
09: RC7
10: RB7

11: RB6
12: RB5
13: RB4
14: RC2
15: RC1
16: RC0 (GPIO出力) -- LED
17: (*)RA2 (GPIO入力) -- タクトスイッチ ※ プルアップ抵抗不要
18: ICSPCLK(PGC) -- PICKit の 5: PGC
19: ICSPDAT(PGD  -- PICKit の 4: PGD
20: VSS(GND)
</pre>
</div>
<p>
<span class="olradio"><input type="radio" name="p3"></span> 書き込みボタンを押して正常に動作する事を確認して下さい。 
<br>
<span class="olradio"><input type="radio" name="p3"></span> 提出物はありません。
</p>
</div>

<br>
<script>PreNext(4,3)</script>
</body>
</html>
