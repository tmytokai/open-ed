<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
<link rel="stylesheet" href="../../../common.css">
<script src="../../../common.js"></script>
<title>1. 割り込み処理とは</title>
</head>
<body>

<nav class="brcr">
<ol>
<li><a href="../">アクティビティ: 入出力インターフェース</a></li>
<li>学習項目: 学習項目: [5] 割り込み処理</li>
<li><script>GetTitle()</script></li>
</ol>
</nav>

<h2><script>GetTitle()</script></h2>

<p>
割り込み処理とは、コンピュータがプログラムを実行している最中に何かしらのイベントが生じた時に、プログラムの実行を一時中断して「<b>割り込みハンドラ(ISR: Interrupt Service Routine)</b>」というルーチンを呼び出し、ISR 内でイベントに対応する処理を行う機能のことです。
<br>
イベント処理が終わったら元のプログラムの実行に戻ります。
</p>

<p>
割り込みイベントの種類としてはコンピュータ(CPU)の外部装置から要求される「<b>外部割り込み</b>(または<b>ハードウェア割り込み</b>)」と、コンピュータ(CPU)が実行中のプログラム内から要求される「<b>内部割り込み</b>(または<b>ソフトウェア割り込み</b>)」があります。
</p>

<p>
外部割り込みを行う外部装置の例として入出力装置、外部記録装置、タイマー、ネットワーク機器などがあります。
<br>
一方、内部割り込みの例としてはゼロ除算などの例外処理や、スーパーバイザコール(SVC)などがあります。
</p>


<p>
なおマイコンで割り込みと言えば一般的には外部割り込みの事を意味します。
<br>
もしプログラム内から明示的に内部割り込みをかけたい場合は、下のコードの様に何か適当な割り込み処理(下の例ではINT割り込み)を有効にしてから割り込みフラグを ON にすると ISR が呼び出されます。
</p>

<pre class="wrap">
// INT 割り込み有効化
INTCONbits.INTF = 0;
INTCONbits.INTE = 1 ;
INTCONbits.GIE = 1;

〜(適当な処理)〜

// 割り込みフラグを ON にすると ISR に実行が移る
INTCONbits.INTF = 1;
</pre>

<br>
<script>PreNext(1,1)</script>
</body>
</html>
